{"version":3,"file":"openlogin.esm.js","sources":["../src/constants.ts","../src/loglevel.ts","../src/utils.ts","../src/Modal.ts","../src/MemoryStore.ts","../src/OpenLoginStore.ts","../src/Provider.ts","../src/OpenLogin.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["modalDOMElementID","storeKey","UX_MODE","POPUP","REDIRECT","OPENLOGIN_METHOD","LOGIN","LOGOUT","CHECK_3PC_SUPPORT","SET_PID_DATA","GET_DATA","ALLOWED_INTERACTIONS","JRPC","OPENLOGIN_NETWORK","MAINNET","TESTNET","CYAN","DEVELOPMENT","LOGIN_PROVIDER","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","WEBAUTHN","JWT","MFA_LEVELS","DEFAULT","OPTIONAL","MANDATORY","NONE","loglevel","setLevel","getLogger","documentReady","Promise","resolve","document","readyState","addEventListener","htmlToElement","html","template","window","createElement","trimmedHtml","trim","innerHTML","content","firstChild","whitelistUrl","clientId","appKey","origin","appKeyBuf","Buffer","from","padStart","base64url","encode","getPublic","Error","sig","sign","keccak","update","digest","getHashQueryParams","replaceUrl","result","url","URL","location","href","searchParams","forEach","value","key","queryResult","get","queryParams","JSON","parse","safeatob","Object","keys","error","log","hash","substring","hashUrl","hashResult","hashParams","cleanUrl","pathname","history","replaceState","awaitReq","id","windowRef","reject","closedByHandler","closedMonitor","setInterval","closed","clearInterval","handler","ev","pid","data","removeEventListener","close","constructURL","params","baseURL","query","append","h","toString","storageAvailable","type","storageExists","storageLength","storage","length","x","setItem","removeItem","code","name","sessionStorageAvailable","localStorageAvailable","preloadIframe","openloginIframeHtml","crossOrigin","rel","relList","supports","head","appendChild","getPopupFeatures","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","w","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","left","Math","abs","top","features","handleStream","handle","eventName","handlerWrapper","chunk","removeListener","on","Modal","constructor","modalUrl","init","initIFrame","setupStream","iframeElem","mux","setupMultiplex","PostMessageStream","target","targetWindow","contentWindow","targetOrigin","verifierStream","createStream","src","documentIFrameElem","getElementById","remove","info","modalZIndex","_hideModal","body","onload","initialized","_showModal","style","display","position","right","bottom","border","setAttribute","entries","map","k","v","join","_prompt","whiteLabel","loginConfig","cb","modalHandler","write","cleanup","MemoryStore","getItem","store","OpenLoginStore","resetStore","getInstance","instance","localStorage","toJSON","currStore","getStore","stringify","set","Provider","SafeEventEmitter","iframeUrl","rpcStream","JRPCConnection","createStreamMiddleware","pump","stream","rpcEngine","JRPCEngine","push","createIdRemapMiddleware","middleware","_rpcRequest","payload","callback","jsonrpc","randomId","OpenLogin","options","provider","Proxy","deleteProperty","_iframeUrl","network","modal","initState","no3PC","_startUrl","_popupUrl","redirectUrl","protocol","host","uxMode","replaceUrlOnRedirect","originData","privKey","state","startUrl","popupUrl","support3PC","all","updateOriginData","_syncState","_getData","res","_check3PCSupport","filteredOriginData","whitelist","getWhitelist","getWhiteLabel","signed_urls","_","_fastLogin","defaultParams","loginParams","request","fastLogin","method","allowedInteractions","login","loginProvider","_selectedLogin","_modal","logout","logoutParams","_clientId","args","session","userData","timestamp","Date","now","_user","_userSig","_userData","_originData","_whiteLabelData","_loginConfig","includes","_jrpcRequest","_origin","_setPIDData","setTimeout","b64Params","jsonToBase64","_pid","_method","u","open","Array","isArray","getRpcPromiseCallback","newState","cancel","selectedLoginResponse","merge","_cleanup","encrypt","message","privateKey","exec","decrypt","ciphertext","getUserInfo","storeData","userInfo","email","profileImage","aggregateVerifier","verifier","verifierId","typeOfLogin","dappShare","getEncodedLoginUrl","dataObject"],"mappings":"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"}